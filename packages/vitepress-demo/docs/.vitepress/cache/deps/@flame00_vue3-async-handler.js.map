{
  "version": 3,
  "sources": ["../../../../../../node_modules/.pnpm/@flame00+vue3-async-handler@1.0.13_typescript@5.8.3/node_modules/@flame00/vue3-async-handler/dist/vue3-async-handler.umd.js"],
  "sourcesContent": ["(function (d, r) {\n  typeof exports == \"object\" && typeof module < \"u\"\n    ? r(exports, require(\"vue\"))\n    : typeof define == \"function\" && define.amd\n    ? define([\"exports\", \"vue\"], r)\n    : ((d = typeof globalThis < \"u\" ? globalThis : d || self),\n      r((d.Vue3AsyncHandler = {}), d.Vue));\n})(this, function (d, r) {\n  \"use strict\";\n  const b = new Map(),\n    X = (n, { data: i, params: s, time: f }) => {\n      b.set(n, { data: i, params: s, time: f });\n    },\n    F = (n) => {\n      if (n) return b.get(n);\n      b.clear();\n    },\n    H = (n) => {\n      b.delete(n);\n    },\n    v = new Map(),\n    Y = (n, { data: i, params: s, time: f }) => {\n      v.has(n) && v.get(n)?.forEach((w) => w({ data: i, params: s, time: f }));\n    },\n    N = (n, i) => (\n      v.has(n) || v.set(n, new Set()),\n      v.get(n)?.add(i),\n      () => {\n        const s = v.get(n);\n        s?.delete(i), s?.size === 0 && v.delete(n);\n      }\n    );\n  function Z(n, i) {\n    let s = null,\n      f = null,\n      h = 0,\n      w = !0,\n      g = !0,\n      p = null,\n      R = 0;\n    const o = r.shallowRef(),\n      D = r.shallowRef(!1),\n      E = r.shallowRef(!1),\n      m = r.shallowRef(!1),\n      C = r.shallowRef(null),\n      a = r.shallowRef([]),\n      O = {\n        manual: !1,\n        defaultParams: [],\n        errorRetryCount: 0,\n        errorRetryInterval: 1e3 * Math.pow(2, h),\n        refocusTimespan: 5e3,\n        staleTime: new Date(0).setMinutes(3),\n        ...i,\n      },\n      {\n        onBefore: j,\n        onSuccess: x,\n        onError: $,\n        manual: V,\n        defaultParams: I,\n        refreshDeps: W,\n        refreshDepsAction: z,\n        pollingInterval: k,\n        errorRetryCount: ee,\n        errorRetryInterval: te,\n        refreshOnWindowFocus: ne,\n        refocusTimespan: re,\n        cacheKey: u,\n        staleTime: ae,\n      } = O;\n    a.value = I;\n    const B = (e) =>\n        e?.name === \"AbortError\" ||\n        e?.code === \"ERR_CANCELED\" ||\n        e?.name === \"CanceledError\",\n      T = () => {\n        s &&\n          !s.signal.aborted &&\n          !E.value &&\n          (s.abort(), (m.value = s.signal.aborted));\n      },\n      se = () => {\n        R++, P(!1);\n      };\n    function P(e) {\n      (D.value = e), (E.value = !e);\n    }\n    const le = () => (\n        (s = new AbortController()),\n        (m.value = s.signal.aborted),\n        { signal: s.signal }\n      ),\n      y = () => {\n        M(...a.value);\n      },\n      oe = async () => {\n        await S(...a.value);\n      },\n      K = () => {\n        f && window.clearInterval(f);\n      };\n    function _(e) {\n      return e === void 0 ? e : typeof e == \"number\" && !isNaN(e);\n    }\n    const ue = () => {\n        const { is: e, value: t } = q(r.toValue(k));\n        e && (K(), (f = window.setInterval(y, t)));\n      },\n      G = (e) => new Promise((t) => setTimeout(t, e)),\n      J = async () => {\n        const { is: e, value: t } = q(r.toValue(te));\n        e && (await G(t), y());\n      },\n      ce = async () => {\n        const { is: e, value: t } = q(r.toValue(ee), !0);\n        if (e)\n          if (t === -1) await J();\n          else {\n            if ((h++, h > t)) {\n              h = 0;\n              return;\n            }\n            await J();\n          }\n      },\n      ie = () => {\n        w = !1;\n      },\n      L = () => {\n        P((B(o.value) && !m.value) || !1),\n          O.onFinally?.(a.value, o.value, C.value);\n      };\n    function fe() {\n      if (!u) return;\n      const e = F(u);\n      e && ((o.value = e.data), (a.value = e.params)),\n        (p = N(u, (t) => {\n          (o.value = t.data), (a.value = t.params);\n        }));\n    }\n    const de = () => {\n      if (!u) return { isReturnRequest: !1, cache: null };\n      const e = F(u);\n      return e\n        ? Date.now() - e.time > ae\n          ? (H(u), { isReturnRequest: !1, cache: null })\n          : { isReturnRequest: !0, cache: e }\n        : { isReturnRequest: !1, cache: null };\n    };\n    fe();\n    const S = async (...e) => {\n        he();\n        const { cache: t, isReturnRequest: me } = de();\n        if (me && t) {\n          const { data: c, params: l } = t;\n          return j?.(l), (o.value = c), (a.value = l), x?.(c, l), L(), c;\n        }\n        const Q = ++R;\n        (a.value = e.length ? e : I), T();\n        const { signal: pe } = le();\n        P(!0), ue();\n        try {\n          j?.(a.value);\n          const c = await n(pe)(...a.value);\n          if (Q !== R) return;\n          if (((o.value = c), x?.(c, a.value), L(), u)) {\n            const l = { data: o.value, params: a.value, time: Date.now() };\n            p?.(),\n              (p = N(u, (U) => {\n                (o.value = U.data), (a.value = U.params);\n              })),\n              X(u, l),\n              Y(u, l);\n          }\n          return c;\n        } catch (c) {\n          const l = c;\n          if (Q !== R) return;\n          throw (\n            ((C.value = B(l) && !m.value ? null : l),\n            $?.(l, a.value),\n            w ? ce() : (w = !0),\n            L(),\n            l)\n          );\n        }\n      },\n      M = (...e) => {\n        S(...e).catch((t) => {});\n      };\n    V || M(...I),\n      W &&\n        r.watch(\n          W,\n          () => {\n            if (z) return z();\n            y();\n          },\n          { deep: !0 }\n        );\n    async function A() {\n      const { is: e, value: t } = q(re);\n      e &&\n        window.document.visibilityState === \"visible\" &&\n        navigator.onLine &&\n        g &&\n        (y(), (g = !1), await G(t), (g = !0));\n    }\n    function ve() {\n      ne &&\n        (window.addEventListener(\"focus\", A),\n        window.document.addEventListener(\"visibilitychange\", A));\n    }\n    ve();\n    function q(e, t) {\n      return _(e) === void 0\n        ? { is: !1, value: 0 }\n        : _(e)\n        ? t && e === -1\n          ? { is: !0, value: -1 }\n          : { is: !0, value: e === 0 || (e && e < 0) ? 0 : e }\n        : { is: !1, value: 0 };\n    }\n    function he() {\n      (a.value = []),\n        (o.value = null),\n        (C.value = null),\n        (D.value = !1),\n        (E.value = !1),\n        (m.value = !1);\n    }\n    function we() {\n      (s = null),\n        (f = null),\n        (p = null),\n        (w = !0),\n        (g = !0),\n        (h = 0),\n        (R = 0),\n        window.removeEventListener(\"focus\", A),\n        window.document.removeEventListener(\"visibilitychange\", A);\n    }\n    return (\n      r.onScopeDispose(\n        () => {\n          p?.(), T(), we();\n        },\n        r.version.startsWith(\"3.5\") ? !0 : void 0\n      ),\n      {\n        data: o,\n        params: a,\n        isLoading: D,\n        isFinished: E,\n        isAborted: m,\n        error: C,\n        cancel: se,\n        abort: T,\n        run: M,\n        runAsync: S,\n        refresh: y,\n        refreshAsync: oe,\n        cancelPolling: K,\n        cancelErrorRetry: ie,\n        clearCache: H,\n      }\n    );\n  }\n  (d.useAsyncHandler = Z),\n    Object.defineProperty(d, Symbol.toStringTag, { value: \"Module\" });\n});\n"],
  "mappings": "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",
  "names": []
}
